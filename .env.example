# Copy to `.env` and edit as needed.

# App
APP_NAME="AI-Powered Adaptive Examination System"
ENVIRONMENT="dev"
SECRET_KEY="change-me-please"
HOST="0.0.0.0"
PORT="8000"

# Database (SQLite)
DATABASE_URL="sqlite:///./data/app.db"

# Storage
UPLOAD_DIR="./data/uploads"

# Lecture chunking
CHUNK_SIZE_CHARS="1200"
CHUNK_OVERLAP_CHARS="200"
MAX_CONTEXT_CHARS="6000"
CONTEXT_CHUNKS="5"

# Local LLM (OpenAI-compatible)
# Examples:
# - Ollama: http://localhost:11434/v1
# - llama.cpp server: http://localhost:8080/v1
LLM_PROVIDER="openai_compat"   # openai_compat | mock
LLM_BASE_URL="http://localhost:11434/v1"
LLM_API_KEY="ollama"
LLM_MODEL="llama3.1"
LLM_TEMPERATURE="0.2"
LLM_MAX_TOKENS="700"
LLM_TIMEOUT_SECONDS="60"
LLM_FALLBACK_TO_MOCK="true"

# Vector index (stored in SQLite, no extra service)
# Embeddings (lecture retrieval)
EMBEDDING_PROVIDER="sentence_transformers" # sentence_transformers | hash
EMBEDDING_MODEL_NAME="sentence-transformers/all-MiniLM-L6-v2"
EMBEDDING_DEVICE="" # blank means auto; "cpu" recommended
EMBEDDING_DIM="384"

# Exam defaults (teacher can override per department/grade)
EXAM_DEFAULT_MAX_DURATION_MINUTES="30"
EXAM_DEFAULT_MAX_ATTEMPTS="3"
EXAM_DEFAULT_MAX_QUESTIONS="10"
EXAM_DEFAULT_STOP_CONSECUTIVE_INCORRECT="3"
EXAM_DEFAULT_STOP_SLOW_SECONDS="300"
EXAM_DEFAULT_DIFFICULTY_MIN="2"
EXAM_DEFAULT_DIFFICULTY_MAX="4"

# Scoring weights (must sum to 1.0)
SCORE_WEIGHT_CORRECTNESS="0.6"
SCORE_WEIGHT_SPEED="0.2"
SCORE_WEIGHT_CONSISTENCY="0.2"

# Upload limits
MAX_UPLOAD_MB="25"
